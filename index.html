<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Happy Birthday Eli üíñ</title>

<style>
:root {
  --pink-main: #ff4d6d;
  --pink-soft: #ff8fab;
  --bg-grad: linear-gradient(135deg, #ffc1d9, #ffe4ec);
}

* {
  box-sizing: border-box;
  font-family: Arial, sans-serif;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  background: var(--bg-grad);
  display: flex;
  justify-content: center;
  min-height: 100vh;
  width: 100vw;
  overflow-x: hidden;
}

/* PAGE */
section {
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 30px 20px;
  width: 100%;
  min-height: 100vh;
  animation: fadeIn .5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: none; }
}

/* TEXT */
h1 {
  color: var(--pink-main);
  font-size: 2.4rem;
  margin-bottom: 16px;
  text-shadow: 2px 2px 0 white;
}

p {
  font-size: 1.4rem;
  font-weight: 700;
  color: #444;
  line-height: 1.4;
}

/* BUTTON */
button {
  padding: 20px;
  border-radius: 50px;
  border: none;
  background: var(--pink-soft);
  color: #fff;
  font-weight: 800;
  font-size: 1.3rem;
  width: 100%;
  max-width: 400px;
  margin-bottom: 14px;
  box-shadow: 0 5px 15px rgba(255,143,171,.4);
  cursor: pointer;
}

button:active { transform: scale(.95); }
.btn-main { background: var(--pink-main); }

/* GIFT IMAGE */
.gift-img {
  width: 180px;
  margin-bottom: 20px;
  cursor: pointer;
  animation: floatGift 2.5s ease-in-out infinite;
  transition: transform .3s ease;
  filter: drop-shadow(0 10px 20px rgba(255, 77, 109, 0.4));
}

.gift-img:hover {
  transform: scale(1.08);
}

@keyframes floatGift {
  0% { transform: translateY(0); }
  50% { transform: translateY(-14px); }
  100% { transform: translateY(0); }
}

/* GAME */
.grid {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(5, 1fr);
  margin: 20px 0;
  width: 100%;
  max-width: 400px;
}

.cell {
  aspect-ratio: 1;
  background: #fff;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  box-shadow: 0 4px 0 #ddd;
}

/* GIFT PAGE */
.photo {
  width: 220px;
  height: 220px;
  border-radius: 50%;
  border: 8px solid #fff;
  object-fit: cover;
  margin-bottom: 20px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

#surat-box {
  background: rgba(255,255,255,.95);
  padding: 26px;
  border-radius: 25px;
  max-width: 520px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.05);
}

#surat-text {
  text-align: left;
  line-height: 1.8;
  font-size: 1.3rem;
  font-weight: 600;
  color: #333;
}

/* GALLERY */
#memories-btn {
  display: none;
  background: #6a0572;
  margin-top: 10px;
}

.overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.9);
  z-index: 1000;
  justify-content: center;
  align-items: center;
}

.overlay img {
  max-width: 90%;
  max-height: 80%;
  border: 5px solid white;
  border-radius: 10px;
}
</style>
</head>

<body>

<audio id="bgm" src="sky.mp3" loop></audio>
<audio id="typingSound" src="typing.mp3"></audio>

<div id="galleryOverlay" class="overlay" onclick="nextPhoto()">
  <img id="galleryImg" src="">
  <p style="position:absolute; bottom:20px; color:white; font-weight:bold;">
    Tap untuk foto selanjutnya... ‚ú®
  </p>
</div>

<!-- PAGE 1 -->
<section id="page-1" style="display:flex">
  <img src="gift.png" class="gift-img" onclick="openGift()" alt="Birthday Gift">
  <h1>TAP KADO NYA üíñ</h1>
</section>

<!-- MENU -->
<section id="page-menu">
  <h1>Happy Birthday Eli üéÇ</h1>
  <p>Ada kejutan kecil buat kamu hari ini...</p>
  <button class="btn-main" onclick="showPage('page-feel')">üéÅ Buka Hadiah</button>
  <button onclick="startBomb()">üí£ Main Game Sebentar</button>
</section>

<!-- FEEL -->
<section id="page-feel">
  <h1>Halo Eli... ü§ç</h1>
  <p>Sebelum lanjut, aku mau tanya...<br>Hari ini kamu ngerasa disayang gak?</p>
  <button class="btn-main" onclick="showGift()">üíñ Iya, disayang banget!</button>
  <button onclick="showGift()">ü§ç Belum terlalu...</button>
</section>

<!-- GAME -->
<section id="page-bomb">
  <h1>Hati-hati üí£</h1>
  <p>Cari kotak yang aman ya!</p>
  <div class="grid" id="bombGrid"></div>
  <button onclick="showPage('page-menu')" style="background:#bbb">Nyerah & Balik</button>
</section>

<!-- GIFT -->
<section id="page-gift">
  <img src="eli.jpg" class="photo">
  <div id="surat-box">
    <div id="surat-text"></div>
  </div>
  <button id="memories-btn" onclick="startGallery()">üì∏ Lihat Kenangan Kita</button>
  <button class="btn-main" style="margin-top:20px" onclick="waClose()">
    Boleh aku nemenin kamu hari ini? ü§ç
  </button>
</section>

<script>
const pages = document.querySelectorAll("section");
const bgm = document.getElementById("bgm");
const typingSound = document.getElementById("typingSound");
const nomorWA = "6283129486122";

const myPhotos = ["foto1.jpg", "foto2.jpg", "foto3.jpg"];
let currentPhotoIdx = 0;

function showPage(id){
  pages.forEach(p => p.style.display = "none");
  document.getElementById(id).style.display = "flex";
  window.scrollTo(0,0);
}

function openGift(){
  bgm.volume = .4;
  bgm.play().catch(()=>{});
  showPage("page-menu");
}

function startBomb(){
  showPage("page-bomb");
  const grid = document.getElementById("bombGrid");
  grid.innerHTML = "";
  const bombPos = Math.floor(Math.random() * 25);

  for(let i=0;i<25;i++){
    const c = document.createElement("div");
    c.className = "cell";
    c.onclick = () => {
      if(i === bombPos){
        c.textContent = "üí£";
        c.style.background = "#333";
        setTimeout(()=>{
          alert("Yahhh kena bom! üòú");
          location.href = `https://wa.me/${nomorWA}?text=Aku kalah main bom üôàüíñ`;
        },500);
      } else {
        c.textContent = "üíñ";
        c.style.background = "#ffe4ec";
      }
    };
    grid.appendChild(c);
  }
}

function showGift(){
  showPage("page-gift");
  document.getElementById("memories-btn").style.display = "none";
  const text =
`Selamat ulang tahun ya Eli ü§ç

Hari ini bukan cuma soal umur kamu yang nambah,
tapi tentang betapa bersyukurnya aku karena kamu ada.

Aku tau aku belum sempurna,
tapi aku bener-bener sayang kamu dengan caraku sendiri.

Semoga kamu lebih sering ngerasa tenang,
dicintai, dan gak sendirian.

Aku ada di sini. Selalu.`;

  type(text, 50);
}

function type(text, speed){
  const el = document.getElementById("surat-text");
  el.innerHTML = "";
  let i = 0;

  function run(){
    if(i < text.length){
      el.innerHTML += text[i] === "\n" ? "<br>" : text[i];
      typingSound.currentTime = 0;
      typingSound.play().catch(()=>{});
      i++;
      setTimeout(run, speed);
    } else {
      document.getElementById("memories-btn").style.display = "block";
    }
  }
  run();
}

function startGallery(){
  currentPhotoIdx = 0;
  document.getElementById("galleryImg").src = myPhotos[currentPhotoIdx];
  document.getElementById("galleryOverlay").style.display = "flex";
}

function nextPhoto(){
  currentPhotoIdx++;
  if(currentPhotoIdx < myPhotos.length){
    document.getElementById("galleryImg").src = myPhotos[currentPhotoIdx];
  } else {
    document.getElementById("galleryOverlay").style.display = "none";
  }
}

function waClose(){
  location.href = `https://wa.me/${nomorWA}?text=Boleh ü§ç`;
}
</script>

</body>
</html>
